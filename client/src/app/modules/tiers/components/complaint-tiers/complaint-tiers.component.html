<div class="card">
  <div class="col text-center">
    <mat-tab-group>
      <mat-tab label="Espace reclamation">
      <autocomplete-affaire [(model)]="selectedAffaire" [form]="principalForm" propertyName="affaire"
        label="Affaire à reclamer" [isMandatory]="true" (onOptionSelected)="fillAffaire($event)"></autocomplete-affaire>
        <table class="full-width">
          <tr>
            <generic-textarea [(model)]="customerOrderNumber"
              label="Nº commande associée" [form]="principalForm"
              propertyName="Commande associée" [numberOfLines]="1"
              (keypress)="numberFilter($event)">
            </generic-textarea>
          </tr>
        </table>
      <div class="mt-3">
        <select-reclamation-problem [(model)]="selectedReclamationProblem" label="Sélectionner le problème" [form]="principalForm" propertyName="reclamationProblem"
          [isMandatory]="true">
        </select-reclamation-problem>
      </div>
      <div class="mt-3">
        <select-reclamation-origin [(model)]="selectedReclamationOrigin" label="Sélectionner l'origine" [form]="principalForm" propertyName="reclamationOrigin"
          [isMandatory]="true">
        </select-reclamation-origin>
      </div>
      <div class="mt-3">
        <select-reclamation-cause [(model)]="selectedReclamationCause" label="Sélectionner la cause" [form]="principalForm" propertyName="reclamationCause"
          [isMandatory]="true">
        </select-reclamation-cause>
      </div>
      <div class="mt-3">
      <autocomplete-employee [(model)]="selectedEmployee" [form]="principalForm"
                propertyName="assignedTo" [isMandatory]="false" [isDisabled]="false" label="Commande assignée à"
                (onOptionSelected)="updateAssignedToForCustomerOrder($event)">
              </autocomplete-employee>
       </div>
       <table class="full-width">
        <tr>
          <generic-textarea [(model)]="observations"
            label="Observations / Informations complémentaires" [form]="principalForm"
            propertyName="observations" [numberOfLines]="4">
          </generic-textarea>
        </tr>
      </table>
      <div class="mt-3" style="text-align: center;">
        <button matTooltip="Reclamation" mat-fab color="accent" (click)="submitForm()">Soumettre</button>
      </div>
    </mat-tab>
      <mat-tab label="Reclamations associés">
        <sort-table [columns]="displayedColumnsReclamations" [values]="reclamationList"
        tableName="Reclamations" *ngIf="displayedColumnsReclamations && displayedColumnsReclamations.length>0 ">
    </sort-table>
    </mat-tab>
  </mat-tab-group>
  </div>
</div>
