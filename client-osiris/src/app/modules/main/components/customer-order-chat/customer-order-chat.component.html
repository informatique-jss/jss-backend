<div class="custom-chat-wrapper" *ngIf="customerOrder">

  <div class="chat-window-container" *ngIf="isExpanded">
    <div class="chat-header">
      <span>Commande nÂ°{{customerOrder.id}} </span>
      <button (click)="toggleChat()" class="btn-close-chat">âœ–</button>
    </div>

    <div class="messages-list">
      <div *ngFor="let comment of comments" class="message-item"
        [ngClass]="{'sent': comment.employee !== null, 'received': comment.employee === null}">
        {{ comment.comment }}
      </div>
    </div>

    <div class="chat-footer">
      <input type="text" [(ngModel)]="newComment.comment" (keyup.enter)="sendMessage()"
        placeholder="Ã‰crivez votre message..." />
      <button (click)="sendMessage()" [disabled]="!newComment.comment.trim()">
        <ng-icon name="tablerSend"></ng-icon>
      </button>
    </div>
  </div>

  <button class="chat-toggle-btn" (click)="toggleChat()">
    <span>{{ isExpanded ? 'âœ–' : 'ðŸ’¬' }}</span>
  </button>

</div>