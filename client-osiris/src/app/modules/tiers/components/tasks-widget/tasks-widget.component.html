<app-ui-card title="Prochaines actions prévues" bodyClass="p-0">
  <div class="table-responsive" card-body style="max-height: 300px; overflow-y: auto;" (scroll)="onScroll($event)">
    <table class="table table-centered table-custom table-sm table-nowrap table-hover mb-0 w-100">
      <thead class="bg-light bg-opacity-25 thead-sm">
        <tr class="text-uppercase fs-xxs">
          <th>Tâche</th>
          <th>Date de rappel</th>
        </tr>
      </thead>
      <tbody>
        @for (task of tasks; track $index) {
        <tr>
          <td class="text-truncate" style="max-width: 250px;" title="{{ task.title }}">
            <h5 class="fs-sm my-1 mb-0 text-truncate">
              <a routerLink="" class="text-body d-inline-block text-truncate w-100">{{ task.title }}</a>
            </h5>
            <span class="text-muted fs-xs">Deadline dans {{ task.dueDays }} jours</span>
          </td>
          <td>{{ task.startDate }}</td>
        </tr>
        }
      </tbody>
    </table>

    <!-- Indicateur de chargement -->
    <div class="text-center py-2">
      @if (isLoading) {
      <div class="spinner-border spinner-border-sm text-primary" role="status"></div>
      }
    </div>
  </div>
</app-ui-card>