@if (isVisible) {
<div class="card {{isCollapsed ? 'card-collapse' : ''}} {{className}}">
  <div class="card-header justify-content-between align-items-center" [class]="isCollapsed ?'border-0':''">
    <h5 class="card-title">{{ title }}
      <ng-content select="[badge-text]"></ng-content>
    </h5>
    <div>
      @if (isTogglable || isReloadable || isCloseable || customButtonIcon) {
      <div class="card-action">
        @if (isTogglable) {
        <button (click)="isCollapsed = !isCollapsed" class="card-action-item border-0">
          @if (!isCollapsed) {
          <ng-icon name="tablerChevronUp" />
          }
          @if (isCollapsed) {
          <ng-icon name="tablerChevronDown" />
          }
        </button>
        }
        @if (isReloadable) {
        <button (click)="reload()" class="card-action-item border-0">
          <ng-icon name="tablerRefresh" />
        </button>
        }
        @if (isCloseable) {
        <button (click)="close()" class="card-action-item border-0">
          <ng-icon name="tablerX" />
        </button>
        }
        @if (customButtonIcon) {
        <button (click)="changeCustomButtonSelected()" class="card-action-item border-0">
          <ng-icon [name]="customButtonIcon" [ngbTooltip]="customButtonTooltip" />
        </button>
        }
      </div>
      }
      <ng-content select="[helper-text]"></ng-content>
    </div>
  </div>

  <div class="card-body {{bodyClass}}" #collapse="ngbCollapse" [(ngbCollapse)]="isCollapsed">
    <ng-content select="[card-body]"></ng-content>
  </div>

  @if (isReloading) {
  <div class="card-overlay d-flex">
    <div class="spinner-border text-primary"></div>
  </div>
  }
</div>
}